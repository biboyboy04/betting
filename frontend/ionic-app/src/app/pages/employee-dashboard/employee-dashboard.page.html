<ion-menu contentId="menu-content" menuId="menu-content" side="start" type="overlay">
  <ion-header>
    <ion-toolbar color="dark">
      <ion-title>Menu</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-content>
    <ion-item>
      <ion-icon name="pizza" slot="start"></ion-icon>
      <ion-label>Players</ion-label>
    </ion-item>
    <ion-item>
      <ion-icon name="pizza" slot="start"></ion-icon>
      <ion-label>Matches</ion-label>
    </ion-item>
    <ion-item [routerLink]="['players']">
      <ion-icon name="pizza" slot="start"></ion-icon>
      <ion-label>Games</ion-label>
    </ion-item>
  </ion-content>
</ion-menu>

<ion-header id="menu-content">
  <ion-toolbar color="dark">
    <ion-buttons slot="start">
      <ion-menu-button menu="menu-content"></ion-menu-button>
    </ion-buttons>
    <ion-title>employee-dashboard2</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content >
  <ion-content>
    <ion-item>
      <ion-label position="floating">Number of Players</ion-label>
      <ion-input type="number" [(ngModel)]="numPlayers"></ion-input>
    </ion-item>
    <ion-button  color="dark"  (click)="generatePlayers()">Generate Players</ion-button>
    @if (playerData &&
    playerData.length > 0) {
      <swiper-container
        class="mySwiper"
        pagination-clickable="true"
        space-between="5"
        slides-per-view="5"
      >
        @for (player of playerData; track player) {
        <swiper-slide>
          <ion-card>
            <ion-card-header>
              <ion-card-title>{{ player.player_id }}</ion-card-title>
              <ion-card-subtitle>Username: {{  player.username }}</ion-card-subtitle>
              <ion-card-subtitle>FullName: {{ player.first_name }} {{ player.last_name }}</ion-card-subtitle>
              <ion-card-subtitle>Balance: {{ player.balance }}</ion-card-subtitle>
            </ion-card-header>
          </ion-card>
        </swiper-slide>
        }
      </swiper-container>
    }

    <ion-item>
      <ion-label position="floating">Number of Matches</ion-label>
      <ion-input type="number" [(ngModel)]="numMatches"></ion-input>
    </ion-item>
    <ion-button  color="dark"  (click)="generateMatches()">Generate Matches</ion-button> 
    @if (matchData &&
    matchData.length > 0) {
      <swiper-container
        class="mySwiper"
        pagination-clickable="true"
        space-between="5"
        slides-per-view="5"
      >
        @for (match of matchData; track match) {
        <swiper-slide>
          <ion-card>
            <ion-card-header>
              <ion-card-title>{{ match.match_id }}</ion-card-title>
              <ion-card-subtitle>Team{{  match.team1_id }} VS Team{{  match.team2_id }}</ion-card-subtitle>
              @if(match.winner_id){
                <ion-card-subtitle>Winner: Team{{ match.winner_id }}</ion-card-subtitle>
              }
            </ion-card-header>
          </ion-card>
        </swiper-slide>
        }
      </swiper-container>
    }
    <ion-item>
      <ion-label position="floating">Number of Bets</ion-label>
      <ion-input type="number" [(ngModel)]="numBets"></ion-input>
    </ion-item>

    <ion-button  color="dark"  (click)="generateBets()">Generate Bets</ion-button>
        @if (betData &&
    betData.length > 0) {
      <swiper-container
        class="mySwiper"
        pagination-clickable="true"
        space-between="5"
        slides-per-view="5"
      >
        @for (bet of betData; track bet) {
        <swiper-slide>
          <ion-card>
            <ion-card-header>
              <ion-card-title>{{ bet.bet_id }}</ion-card-title>
              <ion-card-subtitle>Match: {{  bet.match_id }} </ion-card-subtitle>
              <ion-card-subtitle>Player: {{  bet.player_id }} </ion-card-subtitle>
              <ion-card-subtitle>Amount: {{  bet.amount }} </ion-card-subtitle>
              @if(bet.winner_id){
                <ion-card-subtitle>Winner: Team{{ bet.winner_id }}</ion-card-subtitle>
              }
            </ion-card-header>
          </ion-card>
        </swiper-slide>
        }
      </swiper-container>
    }

    
    <ion-item>
      <p>Winners</p>
    </ion-item>
        @if (winnerData &&
        winnerData.length > 0) {
      <swiper-container
        class="mySwiper"
        pagination-clickable="true"
        space-between="5"
        slides-per-view="5"
      >
        @for (winner of winnerData; track winner) {
        <swiper-slide>
          <ion-card>
            <ion-card-header>
              <ion-card-title>{{ winner.match_id }}</ion-card-title>
              <ion-card-subtitle>Team{{  winner.team1_id }} VS Team{{  winner.team2_id }}</ion-card-subtitle>
              <ion-card-subtitle>Winner: Team{{ winner.winner_id }}</ion-card-subtitle>
            </ion-card-header>
          </ion-card>
        </swiper-slide>
        }
      </swiper-container>
    }
    <ion-button  color="dark"  (click)="generateWinners()">Generate Match Winners</ion-button>

  </ion-content>
</ion-content>
